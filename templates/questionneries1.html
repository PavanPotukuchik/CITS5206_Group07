<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
    <title>Add Questionneries</title>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="menu-btn">
                <i class="ph-bold ph-caret-left"></i>
            </div>
            <div class="head">
                <div class="user-img">
                    <img src="{{ url_for('static', filename='img/user.jpg') }}" alt="User" />
                </div>
                <div class="user-details">
                    <p class="title">Admin</p>
                    <p class="name">Kartik</p>
                </div>
            </div>
            {% include 'menu.html' %}
        </div>
        <div class="main-content">
            <div class="content-area">
                <div class="card">
                    <h2>Add questions</h2>
                    <div class="question-card">                        
                        <form id="questionForm" class="add-form">
                            <div class="form-group">
                                <h3>Enter a question:</h3>
                                <textarea class="input-class" rows = '4' cols="50" id="question" name="question" required> </textarea><br>
                            </div>
                            <div class="form-group">
                                <h4>Select an input type for the question:</h4>
                                <label class="radio-inline">
                                    <input type="radio" name="inputType" value="text" required> Text
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="inputType" value="upload" required> Upload
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="inputType" value="yesNo" required> Yes or No
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="inputType" value="number" required> Number
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="inputType" value="date" required> Date
                                </label><br>
                            </div>
                            <button type="submit" class="add-client-button">Add question</button>
                        </form>
                    </div>
                    <br>
                        <div id="resultList">
                            <ul id="submittedQuestions"></ul> 
                        </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/pocketbase@0.8.0/dist/pocketbase.umd.js"></script>

    <script>

        const pb = new PocketBase('http://127.0.0.1:8090');

        document.getElementById("questionForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent the form from submitting in the traditional way

            // Get the question input value
            const questionInput = document.getElementById("question").value;

            // Get the selected radio button value
            const selectedInputType = document.querySelector('input[name="inputType"]:checked').value;

            // Check if a question and input type are selected
            if (questionInput && selectedInputType) {
                // Create a new list item to display the question and selected input type
                const listItem = document.createElement("li");
                listItem.innerHTML = `
                <div class='question-card'>
                        <h4>${questionInput}</h4>
                        Input Type: ${selectedInputType}
                </div>
                `;


                // Add the list item to the unordered list below the form
                document.getElementById("submittedQuestions").appendChild(listItem);

                // Reset the form  to allow resubmission
                document.getElementById("questionForm").reset();
            } else {
                alert("Please enter a question and select an input type.");
            }
        });

    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/add-client.js') }}"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
